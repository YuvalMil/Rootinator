<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {%- seo -%}
  
  <!-- Favicon - Optimized Package -->
  <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg" />
  <link rel="shortcut icon" href="/assets/images/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Rootinator" />
  <link rel="manifest" href="/assets/images/site.webmanifest" />
  
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/syntax-highlighting.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/writeups.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/posts.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/tag-filters.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/markdown-writeup.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/obsidian-dividers.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
  
  <!-- Mermaid for diagrams -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    
    mermaid.initialize({
      startOnLoad: true,
      theme: 'dark',
      themeVariables: {
        primaryColor: '#1e2f1e',
        primaryTextColor: '#c8e6c9',
        primaryBorderColor: '#66bb6a',
        lineColor: '#66bb6a',
        secondaryColor: '#1a3a2e',
        tertiaryColor: '#1a2a3a'
      }
    });
    
    // Convert Jekyll's Rouge code blocks to Mermaid diagrams
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('code.language-mermaid').forEach(function(element) {
        const pre = element.parentElement;
        const code = element.textContent;
        const div = document.createElement('div');
        div.className = 'mermaid';
        div.textContent = code;
        pre.replaceWith(div);
      });
      
      // Re-render Mermaid after conversion
      mermaid.run();
    });
  </script>
  
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}
</head>