---
layout: default
---

<div class="post-gallery-page">
  <header class="gallery-header">
    <h1>{{ page.title }}</h1>
    {% if page.description %}
    <p class="gallery-description">{{ page.description }}</p>
    {% endif %}
  </header>

  <!-- Tag Filter Section -->
  <div class="tag-filter-section">
    <div class="filter-label">Filter by tag:</div>
    <div class="tag-filters">
      <button class="filter-tag active" data-tag="all">All</button>
      {% assign all_tags = "" | split: "" %}
      {% for post in site.posts %}
        {% for tag in post.tags %}
          {% unless all_tags contains tag %}
            {% assign all_tags = all_tags | push: tag %}
          {% endunless %}
        {% endfor %}
      {% endfor %}
      {% assign sorted_tags = all_tags | sort %}
      {% for tag in sorted_tags %}
      <button class="filter-tag" data-tag="{{ tag | slugify }}">{{ tag }}</button>
      {% endfor %}
    </div>
  </div>

  <div class="writeup-grid" id="posts-grid">
    {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
    {% for post in sorted_posts %}
    <a href="{{ post.url }}" class="writeup-card post-card" data-tags="{% for tag in post.tags %}{{ tag | slugify }} {% endfor %}">
      <div class="card-content">
        {% if post.featured_image %}
        <div class="card-icon">
          <img src="{{ post.featured_image }}" alt="{{ post.title }}">
        </div>
        {% else %}
        <div class="card-icon card-icon-placeholder">
          <div class="post-icon-text">üìù</div>
        </div>
        {% endif %}
        
        <h3 class="card-title">{{ post.title }}</h3>
        
        <div class="card-meta">
          <span class="date-badge">
            {{ post.date | date: "%b %d, %Y" }}
          </span>
          {% if post.categories and post.categories.size > 0 %}
          <span class="category-badge">
            {{ post.categories | first | capitalize }}
          </span>
          {% endif %}
        </div>
        
        {% if post.excerpt %}
        <p class="card-excerpt">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
        {% endif %}
        
        {% if post.tags and post.tags.size > 0 %}
        <div class="card-tags">
          {% for tag in post.tags limit:3 %}
          <span class="tag-small">{{ tag }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </a>
    {% endfor %}
  </div>

  {{ content }}
</div>

<script>
// Tag filtering functionality
document.addEventListener('DOMContentLoaded', function() {
  const filterButtons = document.querySelectorAll('.filter-tag');
  const cards = document.querySelectorAll('#posts-grid .writeup-card');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', function() {
      const selectedTag = this.getAttribute('data-tag');
      
      // Update active button
      filterButtons.forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');
      
      // Filter cards
      cards.forEach(card => {
        if (selectedTag === 'all') {
          card.style.display = 'block';
        } else {
          const cardTags = card.getAttribute('data-tags');
          if (cardTags && cardTags.includes(selectedTag)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        }
      });
    });
  });
});
</script>